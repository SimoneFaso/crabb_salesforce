@isTest
private class TestTaskSemiAutomaticiAffido {
	
	@isTest static void test_method_one() {
		User lUs = new User();
        lUs = TestClassFroDataGenAffidamenti.getUser('CRABB Credit Manager');
        // Chiedi collector
        Collector__c col = TestClassFroDataGenAffidamenti.getCollector(lUs.id); 
        col.Tipo_Collector__c = 'ADR';
        insert col;
        Lotto__c lot3= TestClassFroDataGenAffidamenti.getLotto(col.id);
        lot3.Tipo__c='Pre-Lotto';
        lot3.Stato__c = 'In creazione';
        insert lot3;
        Lotto__c lot= TestClassFroDataGenAffidamenti.getLotto(col.id);
        lot.Tipo__c='Lotto';
        lot.Stato__c = 'Confermato';
        lot.Pre_lotto__c = lot3.id;
        insert lot;
        Lotto__c lot2= TestClassFroDataGenAffidamenti.getLotto(col.id);
        lot2.Tipo__c='Pre-Lotto';
        lot2.Stato__c = 'Da confermare';
        insert lot2;
        // crea pratica
        Contratto__c ct = TestClassFroDataGenAffidamenti.getContratto();
        insert ct;
        // prendi il acct con il contratto appena chiesto
        Account acc = TestClassFroDataGenAffidamenti.getAccount(ct.id);
        insert acc;
        // crea la pratica con il acct
        Pratica__c pr = TestClassFroDataGenAffidamenti.getPratica(acc.id);
        pr.Stato__c = 'In Lavorazione';
        insert pr;
        // adesso crea gli affidi
        Affidamento__c aff1 = TestClassFroDataGenAffidamenti.getAffido('In Corso', System.today(), lot2.id, pr.id);
        Affidamento__c aff2 = TestClassFroDataGenAffidamenti.getAffido('In Corso', System.today(), lot.id, pr.id);
        Affidamento__c aff3 = TestClassFroDataGenAffidamenti.getAffido('In Corso', System.today(), lot2.id, pr.id);
        Affidamento__c aff4 = TestClassFroDataGenAffidamenti.getAffido('In Corso', System.today(), lot2.id, pr.id);
        List<Affidamento__c> affList = new List<Affidamento__c>();
        affList.add(aff1);
        affList.add(aff2);
        affList.add(aff3);
        affList.add(aff4);
        //insert aff1;
        //insert affList; insert rende inutile il ruolo dello scenario di test.
        Collector_con_Tipo_Affido__c cta = new Collector_con_Tipo_Affido__c();
        cta.Categoria_Collector__c = 'Test';
        cta.Durata__c = 12;
        cta.Tipo_Affido__c = 'Test';
        cta.Name = 'Test';
        insert cta;
        Strategia__c testata = TestClassFroDataGenAffidamenti.getStrategia('Testata');
        testata.Tipologia__c = 'UI';
        testata.Stato__c = 'Attiva';
        testata.Nome__c = 'STRATEGIA CONCESSIONE';
        insert testata;
        Strategia__c str = TestClassFroDataGenAffidamenti.getStrategia('Step');
        str.Tipologia__c = 'UI';
        str.Testata__c = testata.id;
        str.Stato__c = 'Attiva';
        //str.Stato_testata__c = 'Attiva';
        str.Pratica_di_riferimento__c = pr.Id;
        insert str;
        Task t1 = new Task();
        t1.subject = 'Gestione Manuale post diffida';
        t1.status = 'Non Iniziata';
        ActivityExtended__c ae = new ActivityExtended__c();
        ae.id_attivita__c = str.id;
        ae.E_da_affidare__c = true;
        t1.whatId = pr.id;
        ae.Tipo__c = 'invio lettera di posta prioritaria standard';
        ae.Sotto_Tipo__c = 'test';
        ae.Owner_contratto__c = 'ownercontent';
        ae.RecordTypeId = Schema.SObjectType.ActivityExtended__c.getRecordTypeInfosByName().get('UI').getRecordTypeId();        
        insert ae;
        t1.ActivityExtended__c = ae.Id;
        insert t1;
        testata.Stato__c = 'Attiva';
        update testata;
       // System.runAs(lUs){
	        Test.startTest();
	        Test.setCurrentPage(new pageReference('/apex/TaskSemiAutomaticiAffido'));
	        ApexPages.currentPage().getParameters().put('TabToView', 'LICTab');
	        TaskSemiAutomaticiAffido tsa = new TaskSemiAutomaticiAffido();
            tsa.SetIdContr = null;
            tsa.SetIdContr = null;
            tsa.originalValues_IdContratto = null;
            tsa.SetComune = null;
            tsa.originalValues_Comune = null;
            tsa.SetCodServ = null;
            tsa.originalValues_CodiceServizio = null;
            tsa.SetStato = null;
            tsa.originalValues_Stato = null;
            tsa.SetRischio = null;
            tsa.originalValues_ClasseDiRischio = null;
            tsa.leftselected_Tipo_Lettera = null;
            tsa.unSelectedValues_Tipo_Lettera = null;
            List <TaskSemiAutomaticiAffido.PraticheSelectable> pl = new List <TaskSemiAutomaticiAffido.PraticheSelectable>();
            tsa.listPraticheSelectable = pl;
            List<SelectOption> utl = tsa.unSelectedValues_Tipo_Lettera;
            String ltl = tsa.leftselected_Tipo_Lettera;
            List<String> ovc = tsa.originalValues_ClasseDiRischio;
            Set<String> sr = tsa.SetRischio;
            List<String> ovs = tsa.originalValues_Stato;
            Set<String> sst = tsa.SetStato;
            List<String> ics = tsa.originalValues_CodiceServizio;
            Set<String> sce = tsa.SetCodServ;
            List<String> oc =  tsa.originalValues_Comune;
            Set<String> ii = tsa.SetComune;
            Set<String> tt = tsa.SetIdContr;
            List<String> hh = tsa.originalValues_IdContratto;
            ApexPages.currentPage().getParameters().put('TipoContent', 'Invio Lettera di Posta Prioritaria Standard');
            ApexPages.currentPage().getParameters().put('SottoTipoContent', 'BBBBTest');
            ApexPages.currentPage().getParameters().put('OwnerContent', 'OwnerContent');
            ApexPages.currentPage().getParameters().put('Header_Content', 'Content');
            ApexPages.currentPage().getParameters().put('TipoHeader', 'Invio AR');
            ApexPages.currentPage().getParameters().put('SottoTipoHeader', 'SottoTipoHeader');
            ApexPages.currentPage().getParameters().put('Header', 'Header');
            ApexPages.currentPage().getParameters().put('SottoTipoHeader', 'SottoTipoHeader');
            ApexPages.currentPage().getParameters().put('SottoTipoHeader', 'SottoTipoHeader');
            tsa.VaiATabella();
	        tsa.Indietro();
	        tsa.BackTo();
	        tsa.HomePage();	       
	        List<Pratica__c> prs = new List<Pratica__c>();
	        prs.add(pr);
            //tsa.VaiATabella();
            tsa.Beginning();
            tsa.Previous();
            tsa.Next();
	        tsa.aggiorna_Elenco(new List<Pratica__c>());
	        tsa.getEnableNext();
	        tsa.getEnablePrevious();
	        
	        ApexPages.currentPage().getParameters().put('ValSelected', ct.Id);
	        ApexPages.currentPage().getParameters().put('IndexSelected', '1');
            tsa.UpdateListe();
            ApexPages.currentPage().getParameters().put('IndexSelected', '2');
            tsa.UpdateListe();
            ApexPages.currentPage().getParameters().put('IndexSelected', '3');
            tsa.UpdateListe();
            ApexPages.currentPage().getParameters().put('IndexSelected', '4');
            tsa.UpdateListe();
            ApexPages.currentPage().getParameters().put('IndexSelected', '5');
            tsa.UpdateListe();
            tsa.AScaduto = '12-05-1975';
            tsa.DaScaduto = '12-05-1975';
            tsa.DaScadutoConsolidato = '12-05-1975';
            tsa.AScadutoConsolidato = '12-05-1975';
            tsa.DaSaldoSpese = '12-05-1975';
            tsa.ASaldoSpese = '12-05-1975';
            tsa.DaSaldoConsolidato = '12-05-1975';
            tsa.ASaldoConsolidato = '12-05-1975';
            tsa.DaAnzianita_scaduto = '12-05-1975';
            tsa.AAnzianita_scaduto = '12-05-1975';
            tsa.DaScaduto_Spese = '12-05-1975';
            tsa.AScaduto_Spese = '12-05-1975';
            tsa.ASaldo_Totale = '12-05-1975';
            tsa.DaSaldo_Totale = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.74';
            //tsa.validAScaduto = false;
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScaduto = '12.31';
            tsa.AScaduto = '12.75';
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12.75';
            tsa.DaScaduto_Spese = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12.75';
            tsa.DaScaduto_Spese = '12.75';
            tsa.AScaduto_Spese = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12.75';
            tsa.DaScaduto_Spese = '12.75';
            tsa.AScaduto_Spese = '12.75';
            tsa.ASaldo_Totale = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12.75';
            tsa.DaScaduto_Spese = '12.75';
            tsa.AScaduto_Spese = '12.75';
            tsa.ASaldo_Totale = '12.75';
            tsa.DaSaldo_Totale = '12-05-1975';
            tsa.FiltroQuery();
            tsa.DaScadutoConsolidato = '12.75';
            tsa.AScadutoConsolidato = '12.75';
            tsa.DaSaldoSpese = '12.75';
            tsa.ASaldoSpese = '12.75';
            tsa.DaSaldoConsolidato = '12.75';
            tsa.ASaldoConsolidato = '12.75';
            tsa.DaAnzianita_scaduto = '12.75';
            tsa.AAnzianita_scaduto = '12.75';
            tsa.DaScaduto_Spese = '12.75';
            tsa.AScaduto_Spese = '12.75';
            tsa.ASaldo_Totale = '12.75';
            tsa.DaSaldo_Totale = '12.75';
            tsa.FiltroQuery();
            tsa.SelectAll();
            tsa.HAVEOptionPickVisibilityResult();
            tsa.AggiornaElementoLista();
            tsa.ConfermaLista();
            tsa.End();
	        Test.stopTest();
    	//}
	}
	
	@isTest static void test_method_two() {
	}
	
}